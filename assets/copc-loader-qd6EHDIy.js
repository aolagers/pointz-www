(function(){"use strict";var A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rn(r){if(r.__esModule)return r;var i=r.default;if(typeof i=="function"){var o=function s(){return this instanceof s?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};o.prototype=i.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var c=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(o,s,c.get?c:{enumerable:!0,get:function(){return r[s]}})}),o}var it={},nr={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.Hierarchy=void 0,at.Hierarchy={parse:nn};function nn(r){return Object.entries(r).reduce((i,[o,s])=>(s===-1?i.pages[o]={}:s&&(i.nodes[o]={pointCount:s}),i),{nodes:{},pages:{}})}(function(r){var i=A&&A.__createBinding||(Object.create?function(s,c,n,l){l===void 0&&(l=n);var f=Object.getOwnPropertyDescriptor(c,n);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[n]}}),Object.defineProperty(s,l,f)}:function(s,c,n,l){l===void 0&&(l=n),s[l]=c[n]}),o=A&&A.__exportStar||function(s,c){for(var n in s)n!=="default"&&!Object.prototype.hasOwnProperty.call(c,n)&&i(c,s,n)};Object.defineProperty(r,"__esModule",{value:!0}),o(ir,r),o(at,r)})(nr);var ar={},he={};Object.defineProperty(he,"__esModule",{value:!0}),he.hierarchyItemLength=he.infoLength=void 0,he.infoLength=160,he.hierarchyItemLength=32;var ot={},Ft={},ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.evlrHeaderLength=ce.vlrHeaderLength=ce.minHeaderLength=void 0,ce.minHeaderLength=375,ce.vlrHeaderLength=54,ce.evlrHeaderLength=60;var Ne={},ie={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.getBigUint64=Ae.parseBigInt=void 0;function an(r){if(r>BigInt(Number.MAX_SAFE_INTEGER)||r<BigInt(-Number.MAX_SAFE_INTEGER))throw new Error(`Cannot convert bigint to number: ${r}`);return Number(r)}Ae.parseBigInt=an;function on(r,i,o){if(r.getBigUint64)return r.getBigUint64(i,o);const[s,c]=o?[4,0]:[0,4],n=BigInt(r.getUint32(i+s,o)),l=BigInt(r.getUint32(i+c,o));return(n<<BigInt(32))+l}Ae.getBigUint64=on;var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.toCString=_e.toDataView=_e.Binary=void 0,_e.Binary={toDataView:It,toCString:or};function It(r){return new DataView(r.buffer,r.byteOffset,r.length)}_e.toDataView=It;function or(r){const i=It(r);let o="";for(let s=0;s<i.byteLength;++s){const c=i.getInt8(s);if(c===0)return o;o+=String.fromCharCode(c)}return o}_e.toCString=or;var st={};Object.defineProperty(st,"__esModule",{value:!0}),st.Bounds=void 0,st.Bounds={min:sn,max:un,mid:At,width:sr,depth:ur,height:cr,cube:cn,step:lr,stepTo:ln,intersection:fn};function sn(r){return[r[0],r[1],r[2]]}function un(r){return[r[3],r[4],r[5]]}function At([r,i,o,s,c,n]){return[r+(s-r)/2,i+(c-i)/2,o+(n-o)/2]}function sr(r){return r[3]-r[0]}function ur(r){return r[4]-r[1]}function cr(r){return r[5]-r[2]}function cn(r){const i=At(r),o=Math.max(sr(r),ur(r),cr(r))/2;return[i[0]-o,i[1]-o,i[2]-o,i[0]+o,i[1]+o,i[2]+o]}function lr(r,[i,o,s]){const[c,n,l,f,p,P]=r,[E,w,T]=At(r);return[i?E:c,o?w:n,s?T:l,i?f:E,o?p:w,s?P:T]}function ln(r,[i,o,s,c]){for(let n=i-1;n>=0;--n)r=lr(r,[o>>n&1,s>>n&1,c>>n&1]);return r}function fn(r,i){return[Math.max(r[0],i[0]),Math.max(r[1],i[1]),Math.max(r[2],i[2]),Math.min(r[3],i[3]),Math.min(r[4],i[4]),Math.min(r[5],i[5])]}var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.Dimension=void 0;const dn={int8:{type:"signed",size:1},int16:{type:"signed",size:2},int32:{type:"signed",size:4},int64:{type:"signed",size:8},uint8:{type:"unsigned",size:1},uint16:{type:"unsigned",size:2},uint32:{type:"unsigned",size:4},uint64:{type:"unsigned",size:8},float32:{type:"float",size:4},float64:{type:"float",size:8},float:{type:"float",size:4},double:{type:"float",size:8},bool:{type:"unsigned",size:1},boolean:{type:"unsigned",size:1}};ut.Dimension={Type:dn,ctype:gn};function gn({type:r,size:i}){switch(r){case"signed":switch(i){case 1:return"int8";case 2:return"int16";case 4:return"int32";case 8:return"int64"}case"unsigned":switch(i){case 1:return"uint8";case 2:return"uint16";case 4:return"uint32";case 8:return"uint64"}case"float":switch(i){case 4:return"float";case 8:return"double"}}throw new Error(`Invalid dimension type/size: ${r}/${i}`)}var ct={},Dt={exports:{}};(function(r,i){var o=typeof self<"u"?self:A,s=function(){function n(){this.fetch=!1,this.DOMException=o.DOMException}return n.prototype=o,new n}();(function(n){(function(l){var f={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function p(g){return g&&DataView.prototype.isPrototypeOf(g)}if(f.arrayBuffer)var P=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(g){return g&&P.indexOf(Object.prototype.toString.call(g))>-1};function w(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(g))throw new TypeError("Invalid character in header field name");return g.toLowerCase()}function T(g){return typeof g!="string"&&(g=String(g)),g}function M(g){var b={next:function(){var L=g.shift();return{done:L===void 0,value:L}}};return f.iterable&&(b[Symbol.iterator]=function(){return b}),b}function O(g){this.map={},g instanceof O?g.forEach(function(b,L){this.append(L,b)},this):Array.isArray(g)?g.forEach(function(b){this.append(b[0],b[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(b){this.append(b,g[b])},this)}O.prototype.append=function(g,b){g=w(g),b=T(b);var L=this.map[g];this.map[g]=L?L+", "+b:b},O.prototype.delete=function(g){delete this.map[w(g)]},O.prototype.get=function(g){return g=w(g),this.has(g)?this.map[g]:null},O.prototype.has=function(g){return this.map.hasOwnProperty(w(g))},O.prototype.set=function(g,b){this.map[w(g)]=T(b)},O.prototype.forEach=function(g,b){for(var L in this.map)this.map.hasOwnProperty(L)&&g.call(b,this.map[L],L,this)},O.prototype.keys=function(){var g=[];return this.forEach(function(b,L){g.push(L)}),M(g)},O.prototype.values=function(){var g=[];return this.forEach(function(b){g.push(b)}),M(g)},O.prototype.entries=function(){var g=[];return this.forEach(function(b,L){g.push([L,b])}),M(g)},f.iterable&&(O.prototype[Symbol.iterator]=O.prototype.entries);function k(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function we(g){return new Promise(function(b,L){g.onload=function(){b(g.result)},g.onerror=function(){L(g.error)}})}function Ke(g){var b=new FileReader,L=we(b);return b.readAsArrayBuffer(g),L}function B(g){var b=new FileReader,L=we(b);return b.readAsText(g),L}function X(g){for(var b=new Uint8Array(g),L=new Array(b.length),W=0;W<b.length;W++)L[W]=String.fromCharCode(b[W]);return L.join("")}function _t(g){if(g.slice)return g.slice(0);var b=new Uint8Array(g.byteLength);return b.set(new Uint8Array(g)),b.buffer}function Je(){return this.bodyUsed=!1,this._initBody=function(g){this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:f.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:f.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():f.arrayBuffer&&f.blob&&p(g)?(this._bodyArrayBuffer=_t(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||E(g))?this._bodyArrayBuffer=_t(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var g=k(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Ke)}),this.text=function(){var g=k(this);if(g)return g;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(X(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(Se)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ut=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Bt(g){var b=g.toUpperCase();return Ut.indexOf(b)>-1?b:g}function te(g,b){b=b||{};var L=b.body;if(g instanceof te){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,b.headers||(this.headers=new O(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!L&&g._bodyInit!=null&&(L=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=b.credentials||this.credentials||"same-origin",(b.headers||!this.headers)&&(this.headers=new O(b.headers)),this.method=Bt(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(L)}te.prototype.clone=function(){return new te(this,{body:this._bodyInit})};function Se(g){var b=new FormData;return g.trim().split("&").forEach(function(L){if(L){var W=L.split("="),x=W.shift().replace(/\+/g," "),R=W.join("=").replace(/\+/g," ");b.append(decodeURIComponent(x),decodeURIComponent(R))}}),b}function Le(g){var b=new O,L=g.replace(/\r?\n[\t ]+/g," ");return L.split(/\r?\n/).forEach(function(W){var x=W.split(":"),R=x.shift().trim();if(R){var V=x.join(":").trim();b.append(R,V)}}),b}Je.call(te.prototype);function C(g,b){b||(b={}),this.type="default",this.status=b.status===void 0?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new O(b.headers),this.url=b.url||"",this._initBody(g)}Je.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},C.error=function(){var g=new C(null,{status:0,statusText:""});return g.type="error",g};var vt=[301,302,303,307,308];C.redirect=function(g,b){if(vt.indexOf(b)===-1)throw new RangeError("Invalid status code");return new C(null,{status:b,headers:{location:g}})},l.DOMException=n.DOMException;try{new l.DOMException}catch{l.DOMException=function(b,L){this.message=b,this.name=L;var W=Error(b);this.stack=W.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function Re(g,b){return new Promise(function(L,W){var x=new te(g,b);if(x.signal&&x.signal.aborted)return W(new l.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function V(){R.abort()}R.onload=function(){var oe={status:R.status,statusText:R.statusText,headers:Le(R.getAllResponseHeaders()||"")};oe.url="responseURL"in R?R.responseURL:oe.headers.get("X-Request-URL");var Pe="response"in R?R.response:R.responseText;L(new C(Pe,oe))},R.onerror=function(){W(new TypeError("Network request failed"))},R.ontimeout=function(){W(new TypeError("Network request failed"))},R.onabort=function(){W(new l.DOMException("Aborted","AbortError"))},R.open(x.method,x.url,!0),x.credentials==="include"?R.withCredentials=!0:x.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&f.blob&&(R.responseType="blob"),x.headers.forEach(function(oe,Pe){R.setRequestHeader(Pe,oe)}),x.signal&&(x.signal.addEventListener("abort",V),R.onreadystatechange=function(){R.readyState===4&&x.signal.removeEventListener("abort",V)}),R.send(typeof x._bodyInit>"u"?null:x._bodyInit)})}return Re.polyfill=!0,n.fetch||(n.fetch=Re,n.Headers=O,n.Request=te,n.Response=C),l.Headers=O,l.Request=te,l.Response=C,l.fetch=Re,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var c=s;i=c.fetch,i.default=c.fetch,i.fetch=c.fetch,i.Headers=c.Headers,i.Request=c.Request,i.Response=c.Response,r.exports=i})(Dt,Dt.exports);var pn=Dt.exports,yn={},hn=Object.freeze({__proto__:null,default:yn}),_n=rn(hn),vn=A&&A.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,c)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),mn=A&&A.__setModuleDefault||(Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i}),bn=A&&A.__importStar||function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var o in r)o!=="default"&&Object.prototype.hasOwnProperty.call(r,o)&&vn(i,r,o);return mn(i,r),i},wn=A&&A.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ct,"__esModule",{value:!0}),ct.Getter=void 0;const Pn=wn(pn);ct.Getter={create:En,http:fr,file:dr};function En(r){return typeof r=="function"?r:r.startsWith("http://")||r.startsWith("https://")?fr(r):dr(r)}function fr(r){return async function(o,s){if(o<0||s<0||o>s)throw new Error("Invalid range");const n=await(await(0,Pn.default)(r,{headers:{Range:`bytes=${o}-${s-1}`}})).arrayBuffer();return new Uint8Array(n)}}function dr(r){return async function(o,s){const c=await Promise.resolve().then(()=>bn(_n));async function n(l=0,f=1/0){if(l<0||f<0||l>f)throw new Error("Invalid range");await c.promises.access(r);const p=c.createReadStream(r,{start:l,end:f-1,autoClose:!0});return Tn(p)}return n(o,s)}}async function Tn(r){return await new Promise((i,o)=>{const s=[];r.on("data",c=>s.push(c)),r.on("error",o),r.on("end",()=>i(Buffer.concat(s)))})}var gr={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Key=void 0,r.Key={create:i,parse:o,toString:s,step:c,up:n,compare:l,depth:f};function i(p,P=0,E=0,w=0){return typeof p!="number"?o(p):[p,P,E,w]}function o(p){if(typeof p!="string")return p;const[P,E,w,T,...M]=p.split("-").map(k=>parseInt(k,10)),O=[P,E,w,T];if(M.length!==0||O.some(k=>typeof k!="number"||Number.isNaN(k)))throw new Error(`Invalid key: ${p}`);return O}function s(p){return typeof p=="string"?p:p.join("-")}function c(p,[P,E,w]){const[T,M,O,k]=r.Key.create(p);return[T+1,M*2+P,O*2+E,k*2+w]}function n(p,P=1){const[E,w,T,M]=r.Key.create(p);return[E-P,w>>P,T>>P,M>>P]}function l(p,P){for(let E=0;E<p.length;++E){if(p[E]<P[E])return-1;if(p[E]>P[E])return 1}return 0}function f(p){return p[0]}})(gr);var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.Scale=void 0,lt.Scale={apply:(r,i=1,o=0)=>(r-o)/i,unapply:(r,i=1,o=0)=>r*i+o};var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.Step=void 0,ft.Step={fromIndex:Sn,list:Cn};function Sn(r){if(r<0||r>=8)throw new Error(`Invalid step index: ${r}`);const i=r>>0&1?1:0,o=r>>1&1?1:0,s=r>>2&1?1:0;return[i,o,s]}function Cn(){return[[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1],[1,1,0],[1,1,1]]}(function(r){var i=A&&A.__createBinding||(Object.create?function(E,w,T,M){M===void 0&&(M=T);var O=Object.getOwnPropertyDescriptor(w,T);(!O||("get"in O?!w.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return w[T]}}),Object.defineProperty(E,M,O)}:function(E,w,T,M){M===void 0&&(M=T),E[M]=w[T]}),o=A&&A.__exportStar||function(E,w){for(var T in E)T!=="default"&&!Object.prototype.hasOwnProperty.call(w,T)&&i(w,E,T)};Object.defineProperty(r,"__esModule",{value:!0}),r.Step=r.Scale=r.Key=r.Getter=r.Dimension=r.Bounds=r.Binary=void 0,o(Ae,r);var s=_e;Object.defineProperty(r,"Binary",{enumerable:!0,get:function(){return s.Binary}});var c=st;Object.defineProperty(r,"Bounds",{enumerable:!0,get:function(){return c.Bounds}});var n=ut;Object.defineProperty(r,"Dimension",{enumerable:!0,get:function(){return n.Dimension}});var l=ct;Object.defineProperty(r,"Getter",{enumerable:!0,get:function(){return l.Getter}});var f=gr;Object.defineProperty(r,"Key",{enumerable:!0,get:function(){return f.Key}});var p=lt;Object.defineProperty(r,"Scale",{enumerable:!0,get:function(){return p.Scale}});var P=ft;Object.defineProperty(r,"Step",{enumerable:!0,get:function(){return P.Step}})})(ie);var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.ExtraBytes=void 0;const J=ie;He.ExtraBytes={getDimension:On,parse:Fn,parseOne:pr};const dt=192;function On({type:r,length:i}){switch(r){case"signed":case"unsigned":switch(i){case 1:case 2:case 4:case 8:return{type:r,size:i}}case"float":switch(i){case 4:case 8:return{type:r,size:i}}}}function Fn(r){if(r.byteLength%dt!==0)throw new Error(`Invalid extra bytes VLR length: ${r.byteLength}`);const i=[];for(let o=0;o<r.byteLength;o+=dt)i.push(pr(r.slice(o,o+dt)));return i}function pr(r){if(r.byteLength!==dt)throw new Error(`Invalid extra bytes entry length: ${r.byteLength}`);const i=J.Binary.toDataView(r),o=J.Binary.toCString(r.slice(4,36)),s=J.Binary.toCString(r.slice(60,192)),c=i.getUint8(2),n=i.getUint8(3);if(c>=11)throw new Error(`Invalid extra bytes "type" value: ${c}`);if(c===0)return{name:o,description:s,length:n};const l=An(n),f=In(c);if(!f)throw new Error(`Failed to extract dimension type: ${c}`);const{type:p,size:P}=f;function E(T){switch(p){case"signed":return(0,J.parseBigInt)(i.getBigInt64(T,!0));case"unsigned":return(0,J.parseBigInt)((0,J.getBigUint64)(i,T,!0));case"float":return i.getFloat64(T,!0)}}const w={name:o,description:s,type:p,length:P};return l.hasNodata&&(w.nodata=E(40)),l.hasMin&&(w.min=E(64)),l.hasMax&&(w.max=E(88)),l.hasScale&&(w.scale=i.getFloat64(112)),l.hasOffset&&(w.offset=i.getFloat64(136)),w}function In(r){switch(r){case 1:return J.Dimension.Type.uint8;case 2:return J.Dimension.Type.int8;case 3:return J.Dimension.Type.uint16;case 4:return J.Dimension.Type.int16;case 5:return J.Dimension.Type.uint32;case 6:return J.Dimension.Type.int32;case 7:return J.Dimension.Type.uint64;case 8:return J.Dimension.Type.int64;case 9:return J.Dimension.Type.float32;case 10:return J.Dimension.Type.float64}}function An(r){return{hasNodata:!!(r&1),hasMin:!!(r>>1&1),hasMax:!!(r>>2&1),hasScale:!!(r>>3&1),hasOffset:!!(r>>4&1)}}Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.Dimensions=void 0;const Dn=ie,Mn=He;Ne.Dimensions={create:Rn};const{Type:H}=Dn.Dimension,Ln={X:H.float64,Y:H.float64,Z:H.float64,Intensity:H.uint16,ReturnNumber:H.uint8,NumberOfReturns:H.uint8,ScanDirectionFlag:H.boolean,EdgeOfFlightLine:H.boolean,Classification:H.uint8,Synthetic:H.boolean,KeyPoint:H.boolean,Withheld:H.boolean,Overlap:H.boolean,ScanAngle:H.float32,UserData:H.uint8,PointSourceId:H.uint16,GpsTime:H.float64,Red:H.uint16,Green:H.uint16,Blue:H.uint16,ScannerChannel:H.uint8,Infrared:H.uint16};function Rn(r,i=[]){return Object.keys(r).reduce((o,s)=>{const c=Ln[s];if(c)return{...o,[s]:c};const n=i.find(f=>f.name===s),l=n&&Mn.ExtraBytes.getDimension(n);if(l)return{...o,[s]:l};throw new Error(`Failed to look up LAS type: ${s}`)},{})}var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.Extractor=void 0;const le=ie;xe.Extractor={create:$n};function Un(r){switch(r){case 0:return 20;case 1:return 28;case 2:return 26;case 3:return 34;case 6:return 30;case 7:return 36;case 8:return 38;default:throw new Error(`Unsupported point data record format: ${r}`)}}function Bn(r,i,{type:o,length:s}){const c=ve(r);switch(o){case"signed":switch(s){case 1:return(n,l)=>n.getInt8(c(l)+i);case 2:return(n,l)=>n.getInt16(c(l)+i,!0);case 4:return(n,l)=>n.getInt32(c(l)+i,!0);case 8:return(n,l)=>(0,le.parseBigInt)(n.getBigInt64(c(l)+i,!0))}case"unsigned":switch(s){case 1:return(n,l)=>n.getUint8(c(l)+i);case 2:return(n,l)=>n.getUint16(c(l)+i,!0);case 4:return(n,l)=>n.getUint32(c(l)+i,!0);case 8:return(n,l)=>(0,le.parseBigInt)((0,le.getBigUint64)(n,c(l)+i,!0))}case"float":switch(s){case 4:return(n,l)=>n.getFloat32(c(l)+i,!0);case 8:return(n,l)=>n.getFloat64(c(l)+i,!0)}}}function jn(r,i){let s=Un(r.pointDataRecordFormat);return i.reduce((c,n)=>{const l=s;s+=n.length;const f=Bn(r,l,n);if(!f)return c;const p=(P,E)=>le.Scale.unapply(f(P,E),n.scale,n.offset);return{...c,[n.name]:p}},{})}function $n(r,i=[]){const o=jn(r,i);return{...(()=>{const{pointDataRecordFormat:c}=r;switch(c){case 0:return gt(r);case 1:return kn(r);case 2:return Nn(r);case 3:return Hn(r);case 6:return yr(r);case 7:return hr(r);case 8:return xn(r);default:throw new Error(`Unsupported point data record format: ${c}`)}})(),...o}}function gt(r){const{scale:i,offset:o}=r,s=ve(r);function c(f,p){return f.getUint8(s(p)+14)}function n(f,p){return f.getUint8(s(p)+15)}function l(f,p){return n(f,p)&31}return{X:(f,p)=>le.Scale.unapply(f.getInt32(s(p),!0),i[0],o[0]),Y:(f,p)=>le.Scale.unapply(f.getInt32(s(p)+4,!0),i[1],o[1]),Z:(f,p)=>le.Scale.unapply(f.getInt32(s(p)+8,!0),i[2],o[2]),Intensity:(f,p)=>f.getUint16(s(p)+12,!0),ReturnNumber:(f,p)=>c(f,p)&7,NumberOfReturns:(f,p)=>(c(f,p)&56)>>3,ScanDirectionFlag:(f,p)=>(c(f,p)&64)>>6,EdgeOfFlightLine:(f,p)=>(c(f,p)&128)>>7,Classification:(f,p)=>{const P=l(f,p);return P===12?0:P},Synthetic:(f,p)=>(n(f,p)&32)>>5,KeyPoint:(f,p)=>(n(f,p)&64)>>6,Withheld:(f,p)=>(n(f,p)&128)>>7,Overlap:(f,p)=>l(f,p)===12?1:0,ScanAngle:(f,p)=>f.getInt8(s(p)+16),UserData:(f,p)=>f.getUint8(s(p)+17),PointSourceId:(f,p)=>f.getUint16(s(p)+18,!0)}}function kn(r){const i=ve(r);return{...gt(r),GpsTime:(o,s)=>o.getFloat64(i(s)+20,!0)}}function Nn(r){const i=ve(r);return{...gt(r),Red:(o,s)=>o.getUint16(i(s)+20,!0),Green:(o,s)=>o.getUint16(i(s)+22,!0),Blue:(o,s)=>o.getUint16(i(s)+24,!0)}}function Hn(r){const i=ve(r);return{...gt(r),GpsTime:(o,s)=>o.getFloat64(i(s)+20,!0),Red:(o,s)=>o.getUint16(i(s)+28,!0),Green:(o,s)=>o.getUint16(i(s)+30,!0),Blue:(o,s)=>o.getUint16(i(s)+32,!0)}}function yr(r){const{scale:i,offset:o}=r,s=ve(r);function c(n,l){return n.getUint8(s(l)+15)}return{X:(n,l)=>le.Scale.unapply(n.getInt32(s(l),!0),i[0],o[0]),Y:(n,l)=>le.Scale.unapply(n.getInt32(s(l)+4,!0),i[1],o[1]),Z:(n,l)=>le.Scale.unapply(n.getInt32(s(l)+8,!0),i[2],o[2]),Intensity:(n,l)=>n.getUint16(s(l)+12,!0),ReturnNumber:(n,l)=>n.getUint16(s(l)+14,!0)&15,NumberOfReturns:(n,l)=>(n.getUint16(s(l)+14,!0)&240)>>4,Synthetic:(n,l)=>c(n,l)&1,KeyPoint:(n,l)=>(c(n,l)&2)>>1,Withheld:(n,l)=>(c(n,l)&4)>>2,Overlap:(n,l)=>(c(n,l)&8)>>3,ScannerChannel:(n,l)=>(c(n,l)&48)>>4,ScanDirectionFlag:(n,l)=>(c(n,l)&64)>>6,EdgeOfFlightLine:(n,l)=>(c(n,l)&128)>>7,Classification:(n,l)=>n.getUint8(s(l)+16),UserData:(n,l)=>n.getUint8(s(l)+17),ScanAngle:(n,l)=>n.getInt16(s(l)+18,!0)*.006,PointSourceId:(n,l)=>n.getUint16(s(l)+20,!0),GpsTime:(n,l)=>n.getFloat64(s(l)+22,!0)}}function hr(r){const i=ve(r);return{...yr(r),Red:(o,s)=>o.getUint16(i(s)+30,!0),Green:(o,s)=>o.getUint16(i(s)+32,!0),Blue:(o,s)=>o.getUint16(i(s)+34,!0)}}function xn(r){const i=ve(r);return{...hr(r),Infrared:(o,s)=>o.getUint16(i(s)+36,!0)}}function ve(r){const{pointDataRecordLength:i}=r;return function(s){return s*i}}var We={},De={};Object.defineProperty(De,"__esModule",{value:!0}),De.formatGuid=De.parsePoint=void 0;const _r=ie;function Wn(r){const i=_r.Binary.toDataView(r);if(i.byteLength!==24)throw new Error(`Invalid tuple buffer length: ${i.byteLength}`);return[i.getFloat64(0,!0),i.getFloat64(8,!0),i.getFloat64(16,!0)]}De.parsePoint=Wn;function Vn(r){const i=_r.Binary.toDataView(r);if(i.byteLength!==16)throw new Error(`Invalid GUID buffer length: ${i.byteLength}`);let o="";for(let s=0;s<i.byteLength;s+=4){const c=i.getUint32(s,!0);o+=c.toString(16).padStart(8,"0")}return[o.slice(0,8),o.slice(8,12),o.slice(12,16),o.slice(16,32)].join("-")}De.formatGuid=Vn,Object.defineProperty(We,"__esModule",{value:!0}),We.Header=void 0;const Z=ie,vr=ce,Mt=De;We.Header={parse:Gn};function Gn(r){if(r.byteLength<vr.minHeaderLength)throw new Error(`Invalid header: must be at least ${vr.minHeaderLength} bytes`);const i=Z.Binary.toDataView(r),o=Z.Binary.toCString(r.slice(0,4));if(o!=="LASF")throw new Error(`Invalid file signature: ${o}`);const s=i.getUint8(24),c=i.getUint8(25);if(s!==1||c!==2&&c!==4)throw new Error(`Invalid version (only 1.2 and 1.4 supported): ${s}.${c}`);const n={fileSignature:o,fileSourceId:i.getUint16(4,!0),globalEncoding:i.getUint16(6,!0),projectId:(0,Mt.formatGuid)(r.slice(8,24)),majorVersion:s,minorVersion:c,systemIdentifier:Z.Binary.toCString(r.slice(26,58)),generatingSoftware:Z.Binary.toCString(r.slice(58,90)),fileCreationDayOfYear:i.getUint16(90,!0),fileCreationYear:i.getUint16(92,!0),headerLength:i.getUint16(94,!0),pointDataOffset:i.getUint32(96,!0),vlrCount:i.getUint32(100,!0),pointDataRecordFormat:i.getUint8(104)&15,pointDataRecordLength:i.getUint16(105,!0),pointCount:i.getUint32(107,!0),pointCountByReturn:Yn(r.slice(111,131)),scale:(0,Mt.parsePoint)(r.slice(131,155)),offset:(0,Mt.parsePoint)(r.slice(155,179)),min:[i.getFloat64(187,!0),i.getFloat64(203,!0),i.getFloat64(219,!0)],max:[i.getFloat64(179,!0),i.getFloat64(195,!0),i.getFloat64(211,!0)],waveformDataOffset:0,evlrOffset:0,evlrCount:0};return c==2?n:{...n,pointCount:(0,Z.parseBigInt)((0,Z.getBigUint64)(i,247,!0)),pointCountByReturn:zn(r.slice(255,375)),waveformDataOffset:(0,Z.parseBigInt)((0,Z.getBigUint64)(i,227,!0)),evlrOffset:(0,Z.parseBigInt)((0,Z.getBigUint64)(i,235,!0)),evlrCount:i.getUint32(243,!0)}}function zn(r){const i=Z.Binary.toDataView(r),o=[];for(let s=0;s<15*8;s+=8)o.push((0,Z.getBigUint64)(i,s,!0));return o.map(s=>(0,Z.parseBigInt)(s))}function Yn(r){const i=Z.Binary.toDataView(r),o=[];for(let s=0;s<5*4;s+=4)o.push(i.getUint32(s,!0));return o}var me={},be={},mr={exports:{}};(function(r,i){var o=(()=>{var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(c){c=c||{};var n=typeof c<"u"?c:{},l,f;n.ready=new Promise(function(e,t){l=e,f=t}),["_main","___getTypeName","__embind_initialize_bindings","_fflush","onRuntimeInitialized"].forEach(e=>{Object.getOwnPropertyDescriptor(n.ready,e)||Object.defineProperty(n.ready,e,{get:()=>Q("You are getting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>Q("You are setting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var p=Object.assign({},n),P="./this.program",E=!0,w=!1,T=!1,M=!1;if(n.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var O="";function k(e){return n.locateFile?n.locateFile(e,O):O+e}var we;if(typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),s&&(O=s),O.indexOf("blob:")!==0?O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):O="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var Ke=n.print||console.log.bind(console),B=n.printErr||console.warn.bind(console);Object.assign(n,p),p=null,io(),n.arguments&&n.arguments,X("arguments","arguments_"),n.thisProgram&&(P=n.thisProgram),X("thisProgram","thisProgram"),n.quit&&n.quit,X("quit","quit_"),C(typeof n.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),C(typeof n.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),C(typeof n.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),C(typeof n.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),C(typeof n.read>"u","Module.read option was removed (modify read_ in JS)"),C(typeof n.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),C(typeof n.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),C(typeof n.setWindowTitle>"u","Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),C(typeof n.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),X("read","read_"),X("readAsync","readAsync"),X("readBinary","readBinary"),X("setWindowTitle","setWindowTitle"),C(!w,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable."),C(!T,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable."),C(!M,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");function X(e,t){Object.getOwnPropertyDescriptor(n,e)||Object.defineProperty(n,e,{configurable:!0,get:function(){Q("Module."+e+" has been replaced with plain "+t+" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}function _t(e){Object.getOwnPropertyDescriptor(n,e)&&Q("`Module."+e+"` was supplied but `"+e+"` not included in INCOMING_MODULE_JS_API")}function Je(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function Ut(e){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,e)&&Object.defineProperty(globalThis,e,{configurable:!0,get:function(){var t="`"+e+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";Je(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Fe(t)}})}function Bt(e){Object.getOwnPropertyDescriptor(n,e)||Object.defineProperty(n,e,{configurable:!0,get:function(){var t="'"+e+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)";Je(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Q(t)}})}var te;n.wasmBinary&&(te=n.wasmBinary),X("wasmBinary","wasmBinary"),n.noExitRuntime,X("noExitRuntime","noExitRuntime"),typeof WebAssembly!="object"&&Q("no native wasm support detected");var Se,Le=!1;function C(e,t){e||Q("Assertion failed"+(t?": "+t:""))}var vt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Re(e,t,a){for(var u=t+a,d=t;e[d]&&!(d>=u);)++d;if(d-t>16&&e.buffer&&vt)return vt.decode(e.subarray(t,d));for(var h="";t<d;){var v=e[t++];if(!(v&128)){h+=String.fromCharCode(v);continue}var y=e[t++]&63;if((v&224)==192){h+=String.fromCharCode((v&31)<<6|y);continue}var _=e[t++]&63;if((v&240)==224?v=(v&15)<<12|y<<6|_:((v&248)!=240&&Fe("Invalid UTF-8 leading byte 0x"+v.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),v=(v&7)<<18|y<<12|_<<6|e[t++]&63),v<65536)h+=String.fromCharCode(v);else{var S=v-65536;h+=String.fromCharCode(55296|S>>10,56320|S&1023)}}return h}function g(e,t){return e?Re(V,e,t):""}function b(e,t,a,u){if(!(u>0))return 0;for(var d=a,h=a+u-1,v=0;v<e.length;++v){var y=e.charCodeAt(v);if(y>=55296&&y<=57343){var _=e.charCodeAt(++v);y=65536+((y&1023)<<10)|_&1023}if(y<=127){if(a>=h)break;t[a++]=y}else if(y<=2047){if(a+1>=h)break;t[a++]=192|y>>6,t[a++]=128|y&63}else if(y<=65535){if(a+2>=h)break;t[a++]=224|y>>12,t[a++]=128|y>>6&63,t[a++]=128|y&63}else{if(a+3>=h)break;y>1114111&&Fe("Invalid Unicode code point 0x"+y.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[a++]=240|y>>18,t[a++]=128|y>>12&63,t[a++]=128|y>>6&63,t[a++]=128|y&63}}return t[a]=0,a-d}function L(e,t,a){return C(typeof a=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),b(e,V,t,a)}function W(e){for(var t=0,a=0;a<e.length;++a){var u=e.charCodeAt(a);u<=127?t++:u<=2047?t+=2:u>=55296&&u<=57343?(t+=4,++a):t+=3}return t}var x,R,V,oe,Pe,N,$,Dr,Mr;function Lr(e){x=e,n.HEAP8=R=new Int8Array(e),n.HEAP16=oe=new Int16Array(e),n.HEAP32=N=new Int32Array(e),n.HEAPU8=V=new Uint8Array(e),n.HEAPU16=Pe=new Uint16Array(e),n.HEAPU32=$=new Uint32Array(e),n.HEAPF32=Dr=new Float32Array(e),n.HEAPF64=Mr=new Float64Array(e)}var jt=65536;n.TOTAL_STACK&&C(jt===n.TOTAL_STACK,"the stack size can no longer be determined at runtime");var $t=n.INITIAL_MEMORY||262144;X("INITIAL_MEMORY","INITIAL_MEMORY"),C($t>=jt,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+$t+"! (TOTAL_STACK="+jt+")"),C(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),C(!n.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),C($t==262144,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var mt;function mi(){var e=rr();C((e&3)==0),$[e>>2]=34821223,$[e+4>>2]=2310721022,$[0]=1668509029}function kt(){if(!Le){var e=rr(),t=$[e>>2],a=$[e+4>>2];(t!=34821223||a!=2310721022)&&Q("Stack overflow! Stack cookie has been overwritten at 0x"+e.toString(16)+", expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+a.toString(16)+" 0x"+t.toString(16)),$[0]!==1668509029&&Q("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,t[0]!==115||t[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var Rr=[],Ur=[],Br=[],Nt=!1;function bi(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Ei(n.preRun.shift());Ht(Rr)}function wi(){C(!Nt),Nt=!0,kt(),Ht(Ur)}function Pi(){if(kt(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Si(n.postRun.shift());Ht(Br)}function Ei(e){Rr.unshift(e)}function Ti(e){Ur.unshift(e)}function Si(e){Br.unshift(e)}C(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),C(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),C(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),C(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Ce=0,Oe=null,qe=null,Xe={};function Ci(e){Ce++,n.monitorRunDependencies&&n.monitorRunDependencies(Ce),e?(C(!Xe[e]),Xe[e]=1,Oe===null&&typeof setInterval<"u"&&(Oe=setInterval(function(){if(Le){clearInterval(Oe),Oe=null;return}var t=!1;for(var a in Xe)t||(t=!0,B("still waiting on run dependencies:")),B("dependency: "+a);t&&B("(end of list)")},1e4))):B("warning: run dependency added without ID")}function Oi(e){if(Ce--,n.monitorRunDependencies&&n.monitorRunDependencies(Ce),e?(C(Xe[e]),delete Xe[e]):B("warning: run dependency removed without ID"),Ce==0&&(Oe!==null&&(clearInterval(Oe),Oe=null),qe)){var t=qe;qe=null,t()}}function Q(e){n.onAbort&&n.onAbort(e),e="Aborted("+e+")",B(e),Le=!0;var t=new WebAssembly.RuntimeError(e);throw f(t),t}var se={error:function(){Q("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init:function(){se.error()},createDataFile:function(){se.error()},createPreloadedFile:function(){se.error()},createLazyFile:function(){se.error()},open:function(){se.error()},mkdev:function(){se.error()},registerDevice:function(){se.error()},analyzePath:function(){se.error()},loadFilesFromDB:function(){se.error()},ErrnoError:function(){se.error()}};n.FS_createDataFile=se.createDataFile,n.FS_createPreloadedFile=se.createPreloadedFile;var Fi="data:application/octet-stream;base64,";function jr(e){return e.startsWith(Fi)}function Ii(e){return e.startsWith("file://")}function z(e,t){return function(){var a=e,u=t;return t||(u=n.asm),C(Nt,"native function `"+a+"` called before runtime initialization"),u[e]||C(u[e],"exported native function `"+a+"` not found"),u[e].apply(null,arguments)}}var re;re="laz-perf.wasm",jr(re)||(re=k(re));function $r(e){try{if(e==re&&te)return new Uint8Array(te);throw"both async and sync fetching of the wasm failed"}catch(t){Q(t)}}function Ai(){return!te&&E&&typeof fetch=="function"?fetch(re,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+re+"'";return e.arrayBuffer()}).catch(function(){return $r(re)}):Promise.resolve().then(function(){return $r(re)})}function Di(){var e={env:Qr,wasi_snapshot_preview1:Qr};function t(y,_){var S=y.exports;n.asm=S,Se=n.asm.memory,C(Se,"memory not found in wasm exports"),Lr(Se.buffer),mt=n.asm.__indirect_function_table,C(mt,"table not found in wasm exports"),Ti(n.asm.__wasm_call_ctors),Oi("wasm-instantiate")}Ci("wasm-instantiate");var a=n;function u(y){C(n===a,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),a=null,t(y.instance)}function d(y){return Ai().then(function(_){return WebAssembly.instantiate(_,e)}).then(function(_){return _}).then(y,function(_){B("failed to asynchronously prepare wasm: "+_),Ii(re)&&B("warning: Loading from a file URI ("+re+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),Q(_)})}function h(){return!te&&typeof WebAssembly.instantiateStreaming=="function"&&!jr(re)&&typeof fetch=="function"?fetch(re,{credentials:"same-origin"}).then(function(y){var _=WebAssembly.instantiateStreaming(y,e);return _.then(u,function(S){return B("wasm streaming compile failed: "+S),B("falling back to ArrayBuffer instantiation"),d(u)})}):d(u)}if(n.instantiateWasm)try{var v=n.instantiateWasm(e,t);return v}catch(y){return B("Module.instantiateWasm callback failed with error: "+y),!1}return h().catch(f),{}}function Ht(e){for(;e.length>0;)e.shift()(n)}function Fe(e){Fe.shown||(Fe.shown={}),Fe.shown[e]||(Fe.shown[e]=1,B(e))}function Mi(e,t){C(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),R.set(e,t)}function Li(e){return tr(e+24)+24}function Ri(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){$[this.ptr+4>>2]=t},this.get_type=function(){return $[this.ptr+4>>2]},this.set_destructor=function(t){$[this.ptr+8>>2]=t},this.get_destructor=function(){return $[this.ptr+8>>2]},this.set_refcount=function(t){N[this.ptr>>2]=t},this.set_caught=function(t){t=t?1:0,R[this.ptr+12>>0]=t},this.get_caught=function(){return R[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,R[this.ptr+13>>0]=t},this.get_rethrown=function(){return R[this.ptr+13>>0]!=0},this.init=function(t,a){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(a),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=N[this.ptr>>2];N[this.ptr>>2]=t+1},this.release_ref=function(){var t=N[this.ptr>>2];return N[this.ptr>>2]=t-1,C(t>0),t===1},this.set_adjusted_ptr=function(t){$[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return $[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=oo(this.get_type());if(t)return $[this.excPtr>>2];var a=this.get_adjusted_ptr();return a!==0?a:this.excPtr}}function Ui(e,t,a){var u=new Ri(e);throw u.init(t,a),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch."}function Bi(e,t,a,u,d){}function xt(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function ji(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);kr=e}var kr=void 0;function ue(e){for(var t="",a=e;V[a];)t+=kr[V[a++]];return t}var Ue={},Be={},bt={},$i=48,ki=57;function Wt(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=$i&&t<=ki?"_"+e:e}function Vt(e,t){return e=Wt(e),new Function("body","return function "+e+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(t)}function Gt(e,t){var a=Vt(t,function(u){this.name=t,this.message=u;var d=new Error(u).stack;d!==void 0&&(this.stack=this.toString()+`
`+d.replace(/^Error(:[^\n]*)?\n/,""))});return a.prototype=Object.create(e.prototype),a.prototype.constructor=a,a.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},a}var je=void 0;function j(e){throw new je(e)}var Nr=void 0;function wt(e){throw new Nr(e)}function Ze(e,t,a){e.forEach(function(y){bt[y]=t});function u(y){var _=a(y);_.length!==e.length&&wt("Mismatched type converter count");for(var S=0;S<e.length;++S)pe(e[S],_[S])}var d=new Array(t.length),h=[],v=0;t.forEach((y,_)=>{Be.hasOwnProperty(y)?d[_]=Be[y]:(h.push(y),Ue.hasOwnProperty(y)||(Ue[y]=[]),Ue[y].push(()=>{d[_]=Be[y],++v,v===h.length&&u(d)}))}),h.length===0&&u(d)}function pe(e,t,a={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var u=t.name;if(e||j('type "'+u+'" must have a positive integer typeid pointer'),Be.hasOwnProperty(e)){if(a.ignoreDuplicateRegistrations)return;j("Cannot register type '"+u+"' twice")}if(Be[e]=t,delete bt[e],Ue.hasOwnProperty(e)){var d=Ue[e];delete Ue[e],d.forEach(h=>h())}}function Ni(e,t,a,u,d){var h=xt(a);t=ue(t),pe(e,{name:t,fromWireType:function(v){return!!v},toWireType:function(v,y){return y?u:d},argPackAdvance:8,readValueFromPointer:function(v){var y;if(a===1)y=R;else if(a===2)y=oe;else if(a===4)y=N;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(y[v>>h])},destructorFunction:null})}function Hi(e){if(!(this instanceof Ee)||!(e instanceof Ee))return!1;for(var t=this.$$.ptrType.registeredClass,a=this.$$.ptr,u=e.$$.ptrType.registeredClass,d=e.$$.ptr;t.baseClass;)a=t.upcast(a),t=t.baseClass;for(;u.baseClass;)d=u.upcast(d),u=u.baseClass;return t===u&&a===d}function xi(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function zt(e){function t(a){return a.$$.ptrType.registeredClass.name}j(t(e)+" instance already deleted")}var Yt=!1;function Hr(e){}function Wi(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function xr(e){e.count.value-=1;var t=e.count.value===0;t&&Wi(e)}function Wr(e,t,a){if(t===a)return e;if(a.baseClass===void 0)return null;var u=Wr(e,t,a.baseClass);return u===null?null:a.downcast(u)}var Vr={};function Vi(){return Object.keys(tt).length}function Gi(){var e=[];for(var t in tt)tt.hasOwnProperty(t)&&e.push(tt[t]);return e}var Qe=[];function Kt(){for(;Qe.length;){var e=Qe.pop();e.$$.deleteScheduled=!1,e.delete()}}var et=void 0;function zi(e){et=e,Qe.length&&et&&et(Kt)}function Yi(){n.getInheritedInstanceCount=Vi,n.getLiveInheritedInstances=Gi,n.flushPendingDeletes=Kt,n.setDelayFunction=zi}var tt={};function Ki(e,t){for(t===void 0&&j("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function Ji(e,t){return t=Ki(e,t),tt[t]}function Pt(e,t){(!t.ptrType||!t.ptr)&&wt("makeClassHandle requires ptr and ptrType");var a=!!t.smartPtrType,u=!!t.smartPtr;return a!==u&&wt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},rt(Object.create(e,{$$:{value:t}}))}function Gr(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var a=Ji(this.registeredClass,t);if(a!==void 0){if(a.$$.count.value===0)return a.$$.ptr=t,a.$$.smartPtr=e,a.clone();var u=a.clone();return this.destructor(e),u}function d(){return this.isSmartPointer?Pt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Pt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var h=this.registeredClass.getActualType(t),v=Vr[h];if(!v)return d.call(this);var y;this.isConst?y=v.constPointerType:y=v.pointerType;var _=Wr(t,this.registeredClass,y.registeredClass);return _===null?d.call(this):this.isSmartPointer?Pt(y.registeredClass.instancePrototype,{ptrType:y,ptr:_,smartPtrType:this,smartPtr:e}):Pt(y.registeredClass.instancePrototype,{ptrType:y,ptr:_})}function rt(e){return typeof FinalizationRegistry>"u"?(rt=t=>t,e):(Yt=new FinalizationRegistry(t=>{console.warn(t.leakWarning.stack.replace(/^Error: /,"")),xr(t.$$)}),rt=t=>{var a=t.$$,u=!!a.smartPtr;if(u){var d={$$:a},h=a.ptrType.registeredClass;d.leakWarning=new Error("Embind found a leaked C++ instance "+h.name+" <0x"+a.ptr.toString(16)+`>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(d.leakWarning,Gr),Yt.register(t,d,t)}return t},Hr=t=>Yt.unregister(t),rt(e))}function qi(){if(this.$$.ptr||zt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=rt(Object.create(Object.getPrototypeOf(this),{$$:{value:xi(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function Xi(){this.$$.ptr||zt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&j("Object already scheduled for deletion"),Hr(this),xr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Zi(){return!this.$$.ptr}function Qi(){return this.$$.ptr||zt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&j("Object already scheduled for deletion"),Qe.push(this),Qe.length===1&&et&&et(Kt),this.$$.deleteScheduled=!0,this}function ea(){Ee.prototype.isAliasOf=Hi,Ee.prototype.clone=qi,Ee.prototype.delete=Xi,Ee.prototype.isDeleted=Zi,Ee.prototype.deleteLater=Qi}function Ee(){}function zr(e,t,a){if(e[t].overloadTable===void 0){var u=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||j("Function '"+a+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[u.argCount]=u}}function ta(e,t,a){n.hasOwnProperty(e)?((a===void 0||n[e].overloadTable!==void 0&&n[e].overloadTable[a]!==void 0)&&j("Cannot register public name '"+e+"' twice"),zr(n,e,e),n.hasOwnProperty(a)&&j("Cannot register multiple overloads of a function with the same number of arguments ("+a+")!"),n[e].overloadTable[a]=t):(n[e]=t,a!==void 0&&(n[e].numArguments=a))}function ra(e,t,a,u,d,h,v,y){this.name=e,this.constructor=t,this.instancePrototype=a,this.rawDestructor=u,this.baseClass=d,this.getActualType=h,this.upcast=v,this.downcast=y,this.pureVirtualFunctions=[]}function Jt(e,t,a){for(;t!==a;)t.upcast||j("Expected null or instance of "+a.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function na(e,t){if(t===null)return this.isReference&&j("null is not a valid "+this.name),0;t.$$||j('Cannot pass "'+ke(t)+'" as a '+this.name),t.$$.ptr||j("Cannot pass deleted object as a pointer of type "+this.name);var a=t.$$.ptrType.registeredClass,u=Jt(t.$$.ptr,a,this.registeredClass);return u}function ia(e,t){var a;if(t===null)return this.isReference&&j("null is not a valid "+this.name),this.isSmartPointer?(a=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,a),a):0;t.$$||j('Cannot pass "'+ke(t)+'" as a '+this.name),t.$$.ptr||j("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&j("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var u=t.$$.ptrType.registeredClass;if(a=Jt(t.$$.ptr,u,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&j("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?a=t.$$.smartPtr:j("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:a=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)a=t.$$.smartPtr;else{var d=t.clone();a=this.rawShare(a,Qt.toHandle(function(){d.delete()})),e!==null&&e.push(this.rawDestructor,a)}break;default:j("Unsupporting sharing policy")}return a}function aa(e,t){if(t===null)return this.isReference&&j("null is not a valid "+this.name),0;t.$$||j('Cannot pass "'+ke(t)+'" as a '+this.name),t.$$.ptr||j("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&j("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var a=t.$$.ptrType.registeredClass,u=Jt(t.$$.ptr,a,this.registeredClass);return u}function Et(e){return this.fromWireType(N[e>>2])}function oa(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function sa(e){this.rawDestructor&&this.rawDestructor(e)}function ua(e){e!==null&&e.delete()}function ca(){ye.prototype.getPointee=oa,ye.prototype.destructor=sa,ye.prototype.argPackAdvance=8,ye.prototype.readValueFromPointer=Et,ye.prototype.deleteObject=ua,ye.prototype.fromWireType=Gr}function ye(e,t,a,u,d,h,v,y,_,S,U){this.name=e,this.registeredClass=t,this.isReference=a,this.isConst=u,this.isSmartPointer=d,this.pointeeType=h,this.sharingPolicy=v,this.rawGetPointee=y,this.rawConstructor=_,this.rawShare=S,this.rawDestructor=U,!d&&t.baseClass===void 0?u?(this.toWireType=na,this.destructorFunction=null):(this.toWireType=aa,this.destructorFunction=null):this.toWireType=ia}function la(e,t,a){n.hasOwnProperty(e)||wt("Replacing nonexistant public symbol"),n[e].overloadTable!==void 0&&a!==void 0?n[e].overloadTable[a]=t:(n[e]=t,n[e].argCount=a)}function fa(e,t,a){C("dynCall_"+e in n,"bad function pointer type - no table for sig '"+e+"'"),a&&a.length?C(a.length===e.substring(1).replace(/j/g,"--").length):C(e.length==1);var u=n["dynCall_"+e];return a&&a.length?u.apply(null,[t].concat(a)):u.call(null,t)}var Tt=[];function qt(e){var t=Tt[e];return t||(e>=Tt.length&&(Tt.length=e+1),Tt[e]=t=mt.get(e)),C(mt.get(e)==t,"JavaScript-side Wasm function table mirror is out of date!"),t}function da(e,t,a){if(e.includes("j"))return fa(e,t,a);C(qt(t),"missing table entry in dynCall: "+t);var u=qt(t).apply(null,a);return u}function ga(e,t){C(e.includes("j")||e.includes("p"),"getDynCaller should only be called with i64 sigs");var a=[];return function(){return a.length=0,Object.assign(a,arguments),da(e,t,a)}}function $e(e,t){e=ue(e);function a(){return e.includes("j")?ga(e,t):qt(t)}var u=a();return typeof u!="function"&&j("unknown function pointer with signature "+e+": "+t),u}var Yr=void 0;function pa(e){var t=ao(e),a=ue(t);return Te(t),a}function Xt(e,t){var a=[],u={};function d(h){if(!u[h]&&!Be[h]){if(bt[h]){bt[h].forEach(d);return}a.push(h),u[h]=!0}}throw t.forEach(d),new Yr(e+": "+a.map(pa).join([", "]))}function ya(e,t,a,u,d,h,v,y,_,S,U,D,I){U=ue(U),h=$e(d,h),y&&(y=$e(v,y)),S&&(S=$e(_,S)),I=$e(D,I);var G=Wt(U);ta(G,function(){Xt("Cannot construct "+U+" due to unbound types",[u])}),Ze([e,t,a],u?[u]:[],function(Y){Y=Y[0];var q,ne;u?(q=Y.registeredClass,ne=q.instancePrototype):ne=Ee.prototype;var ge=Vt(G,function(){if(Object.getPrototypeOf(this)!==m)throw new je("Use 'new' to construct "+U);if(F.constructor_body===void 0)throw new je(U+" has no accessible constructor");var Ot=F.constructor_body[arguments.length];if(Ot===void 0)throw new je("Tried to invoke ctor of "+U+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(F.constructor_body).toString()+") parameters instead!");return Ot.apply(this,arguments)}),m=Object.create(ne,{constructor:{value:ge}});ge.prototype=m;var F=new ra(U,ge,m,I,q,h,y,S),ee=new ye(U,F,!0,!1,!1),K=new ye(U+"*",F,!1,!1,!1),Ie=new ye(U+" const*",F,!1,!0,!1);return Vr[e]={pointerType:K,constPointerType:Ie},la(G,ge),[ee,K,Ie]})}function Kr(e,t){for(var a=[],u=0;u<e;u++)a.push($[t+u*4>>2]);return a}function ha(e){for(;e.length;){var t=e.pop(),a=e.pop();a(t)}}function _a(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var a=Vt(e.name||"unknownFunctionName",function(){});a.prototype=e.prototype;var u=new a,d=e.apply(u,t);return d instanceof Object?d:u}function Jr(e,t,a,u,d){var h=t.length;h<2&&j("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var v=t[1]!==null&&a!==null,y=!1,_=1;_<t.length;++_)if(t[_]!==null&&t[_].destructorFunction===void 0){y=!0;break}for(var S=t[0].name!=="void",U="",D="",_=0;_<h-2;++_)U+=(_!==0?", ":"")+"arg"+_,D+=(_!==0?", ":"")+"arg"+_+"Wired";var I="return function "+Wt(e)+"("+U+`) {
if (arguments.length !== `+(h-2)+`) {
throwBindingError('function `+e+" called with ' + arguments.length + ' arguments, expected "+(h-2)+` args!');
}
`;y&&(I+=`var destructors = [];
`);var G=y?"destructors":"null",Y=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],q=[j,u,d,ha,t[0],t[1]];v&&(I+="var thisWired = classParam.toWireType("+G+`, this);
`);for(var _=0;_<h-2;++_)I+="var arg"+_+"Wired = argType"+_+".toWireType("+G+", arg"+_+"); // "+t[_+2].name+`
`,Y.push("argType"+_),q.push(t[_+2]);if(v&&(D="thisWired"+(D.length>0?", ":"")+D),I+=(S?"var rv = ":"")+"invoker(fn"+(D.length>0?", ":"")+D+`);
`,y)I+=`runDestructors(destructors);
`;else for(var _=v?1:2;_<t.length;++_){var ne=_===1?"thisWired":"arg"+(_-2)+"Wired";t[_].destructorFunction!==null&&(I+=ne+"_dtor("+ne+"); // "+t[_].name+`
`,Y.push(ne+"_dtor"),q.push(t[_].destructorFunction))}S&&(I+=`var ret = retType.fromWireType(rv);
return ret;
`),I+=`}
`,Y.push(I);var ge=_a(Function,Y).apply(null,q);return ge}function va(e,t,a,u,d,h){C(t>0);var v=Kr(t,a);d=$e(u,d),Ze([],[e],function(y){y=y[0];var _="constructor "+y.name;if(y.registeredClass.constructor_body===void 0&&(y.registeredClass.constructor_body=[]),y.registeredClass.constructor_body[t-1]!==void 0)throw new je("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+y.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return y.registeredClass.constructor_body[t-1]=()=>{Xt("Cannot construct "+y.name+" due to unbound types",v)},Ze([],v,function(S){return S.splice(1,0,null),y.registeredClass.constructor_body[t-1]=Jr(_,S,null,d,h),[]}),[]})}function ma(e,t,a,u,d,h,v,y){var _=Kr(a,u);t=ue(t),h=$e(d,h),Ze([],[e],function(S){S=S[0];var U=S.name+"."+t;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),y&&S.registeredClass.pureVirtualFunctions.push(t);function D(){Xt("Cannot call "+U+" due to unbound types",_)}var I=S.registeredClass.instancePrototype,G=I[t];return G===void 0||G.overloadTable===void 0&&G.className!==S.name&&G.argCount===a-2?(D.argCount=a-2,D.className=S.name,I[t]=D):(zr(I,t,U),I[t].overloadTable[a-2]=D),Ze([],_,function(Y){var q=Jr(U,Y,S,h,v);return I[t].overloadTable===void 0?(q.argCount=a-2,I[t]=q):I[t].overloadTable[a-2]=q,[]}),[]})}var Zt=[],de=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ba(e){e>4&&--de[e].refcount===0&&(de[e]=void 0,Zt.push(e))}function wa(){for(var e=0,t=5;t<de.length;++t)de[t]!==void 0&&++e;return e}function Pa(){for(var e=5;e<de.length;++e)if(de[e]!==void 0)return de[e];return null}function Ea(){n.count_emval_handles=wa,n.get_first_emval=Pa}var Qt={toValue:e=>(e||j("Cannot use deleted val. handle = "+e),de[e].value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var t=Zt.length?Zt.pop():de.length;return de[t]={refcount:1,value:e},t}}}};function Ta(e,t){t=ue(t),pe(e,{name:t,fromWireType:function(a){var u=Qt.toValue(a);return ba(a),u},toWireType:function(a,u){return Qt.toHandle(u)},argPackAdvance:8,readValueFromPointer:Et,destructorFunction:null})}function ke(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function Sa(e,t){switch(t){case 2:return function(a){return this.fromWireType(Dr[a>>2])};case 3:return function(a){return this.fromWireType(Mr[a>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Ca(e,t,a){var u=xt(a);t=ue(t),pe(e,{name:t,fromWireType:function(d){return d},toWireType:function(d,h){if(typeof h!="number"&&typeof h!="boolean")throw new TypeError('Cannot convert "'+ke(h)+'" to '+this.name);return h},argPackAdvance:8,readValueFromPointer:Sa(t,u),destructorFunction:null})}function Oa(e,t,a){switch(t){case 0:return a?function(d){return R[d]}:function(d){return V[d]};case 1:return a?function(d){return oe[d>>1]}:function(d){return Pe[d>>1]};case 2:return a?function(d){return N[d>>2]}:function(d){return $[d>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Fa(e,t,a,u,d){t=ue(t),d===-1&&(d=4294967295);var h=xt(a),v=D=>D;if(u===0){var y=32-8*a;v=D=>D<<y>>>y}var _=t.includes("unsigned"),S=(D,I)=>{if(typeof D!="number"&&typeof D!="boolean")throw new TypeError('Cannot convert "'+ke(D)+'" to '+I);if(D<u||D>d)throw new TypeError('Passing a number "'+ke(D)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+u+", "+d+"]!")},U;_?U=function(D,I){return S(I,this.name),I>>>0}:U=function(D,I){return S(I,this.name),I},pe(e,{name:t,fromWireType:v,toWireType:U,argPackAdvance:8,readValueFromPointer:Oa(t,h,u!==0),destructorFunction:null})}function Ia(e,t,a){var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],d=u[t];function h(v){v=v>>2;var y=$,_=y[v],S=y[v+1];return new d(x,S,_)}a=ue(a),pe(e,{name:a,fromWireType:h,argPackAdvance:8,readValueFromPointer:h},{ignoreDuplicateRegistrations:!0})}function Aa(e,t){t=ue(t);var a=t==="std::string";pe(e,{name:t,fromWireType:function(u){var d=$[u>>2],h=u+4,v;if(a)for(var y=h,_=0;_<=d;++_){var S=h+_;if(_==d||V[S]==0){var U=S-y,D=g(y,U);v===void 0?v=D:(v+="\0",v+=D),y=S+1}}else{for(var I=new Array(d),_=0;_<d;++_)I[_]=String.fromCharCode(V[h+_]);v=I.join("")}return Te(u),v},toWireType:function(u,d){d instanceof ArrayBuffer&&(d=new Uint8Array(d));var h,v=typeof d=="string";v||d instanceof Uint8Array||d instanceof Uint8ClampedArray||d instanceof Int8Array||j("Cannot pass non-string to std::string"),a&&v?h=W(d):h=d.length;var y=tr(4+h+1),_=y+4;if($[y>>2]=h,a&&v)L(d,_,h+1);else if(v)for(var S=0;S<h;++S){var U=d.charCodeAt(S);U>255&&(Te(_),j("String has UTF-16 code units that do not fit in 8 bits")),V[_+S]=U}else for(var S=0;S<h;++S)V[_+S]=d[S];return u!==null&&u.push(Te,y),y},argPackAdvance:8,readValueFromPointer:Et,destructorFunction:function(u){Te(u)}})}var qr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Da(e,t){C(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var a=e,u=a>>1,d=u+t/2;!(u>=d)&&Pe[u];)++u;if(a=u<<1,a-e>32&&qr)return qr.decode(V.subarray(e,a));for(var h="",v=0;!(v>=t/2);++v){var y=oe[e+v*2>>1];if(y==0)break;h+=String.fromCharCode(y)}return h}function Ma(e,t,a){if(C(t%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),C(typeof a=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),a===void 0&&(a=2147483647),a<2)return 0;a-=2;for(var u=t,d=a<e.length*2?a/2:e.length,h=0;h<d;++h){var v=e.charCodeAt(h);oe[t>>1]=v,t+=2}return oe[t>>1]=0,t-u}function La(e){return e.length*2}function Ra(e,t){C(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var a=0,u="";!(a>=t/4);){var d=N[e+a*4>>2];if(d==0)break;if(++a,d>=65536){var h=d-65536;u+=String.fromCharCode(55296|h>>10,56320|h&1023)}else u+=String.fromCharCode(d)}return u}function Ua(e,t,a){if(C(t%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),C(typeof a=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),a===void 0&&(a=2147483647),a<4)return 0;for(var u=t,d=u+a-4,h=0;h<e.length;++h){var v=e.charCodeAt(h);if(v>=55296&&v<=57343){var y=e.charCodeAt(++h);v=65536+((v&1023)<<10)|y&1023}if(N[t>>2]=v,t+=4,t+4>d)break}return N[t>>2]=0,t-u}function Ba(e){for(var t=0,a=0;a<e.length;++a){var u=e.charCodeAt(a);u>=55296&&u<=57343&&++a,t+=4}return t}function ja(e,t,a){a=ue(a);var u,d,h,v,y;t===2?(u=Da,d=Ma,v=La,h=()=>Pe,y=1):t===4&&(u=Ra,d=Ua,v=Ba,h=()=>$,y=2),pe(e,{name:a,fromWireType:function(_){for(var S=$[_>>2],U=h(),D,I=_+4,G=0;G<=S;++G){var Y=_+4+G*t;if(G==S||U[Y>>y]==0){var q=Y-I,ne=u(I,q);D===void 0?D=ne:(D+="\0",D+=ne),I=Y+t}}return Te(_),D},toWireType:function(_,S){typeof S!="string"&&j("Cannot pass non-string to C++ string type "+a);var U=v(S),D=tr(4+U+t);return $[D>>2]=U>>y,d(S,D+4,U+t),_!==null&&_.push(Te,D),D},argPackAdvance:8,readValueFromPointer:Et,destructorFunction:function(_){Te(_)}})}function $a(e,t){t=ue(t),pe(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(a,u){}})}function ka(){Q("native code called abort()")}function Na(e,t,a){V.copyWithin(e,t,t+a)}function Ha(){return 2147483648}function xa(e){try{return Se.grow(e-x.byteLength+65535>>>16),Lr(Se.buffer),1}catch(t){B("emscripten_realloc_buffer: Attempted to grow heap from "+x.byteLength+" bytes to "+e+" bytes, but got error: "+t)}}function Wa(e){var t=V.length;e=e>>>0,C(e>t);var a=Ha();if(e>a)return B("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is "+a+" bytes!"),!1;let u=(_,S)=>_+(S-_%S)%S;for(var d=1;d<=4;d*=2){var h=t*(1+.2/d);h=Math.min(h,e+100663296);var v=Math.min(a,u(Math.max(e,h),65536)),y=xa(v);if(y)return!0}return B("Failed to grow the heap from "+t+" bytes to "+v+" bytes, not enough memory!"),!1}var er={};function Va(){return P||"./this.program"}function nt(){if(!nt.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Va()};for(var a in er)er[a]===void 0?delete t[a]:t[a]=er[a];var u=[];for(var a in t)u.push(a+"="+t[a]);nt.strings=u}return nt.strings}function Ga(e,t,a){for(var u=0;u<e.length;++u)C(e.charCodeAt(u)===(e.charCodeAt(u)&255)),R[t++>>0]=e.charCodeAt(u);a||(R[t>>0]=0)}function za(e,t){var a=0;return nt().forEach(function(u,d){var h=t+a;$[e+d*4>>2]=h,Ga(u,h),a+=u.length+1}),0}function Ya(e,t){var a=nt();$[e>>2]=a.length;var u=0;return a.forEach(function(d){u+=d.length+1}),$[t>>2]=u,0}function Ka(e){Q("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")}function Ja(e,t,a,u,d){return 70}var qa=[null,[],[]];function Xa(e,t){var a=qa[e];C(a),t===0||t===10?((e===1?Ke:B)(Re(a,0)),a.length=0):a.push(t)}function Za(e,t,a,u){for(var d=0,h=0;h<a;h++){var v=$[t>>2],y=$[t+4>>2];t+=8;for(var _=0;_<y;_++)Xa(e,V[v+_]);d+=y}return $[u>>2]=d,0}function St(e){return e%4===0&&(e%100!==0||e%400===0)}function Qa(e,t){for(var a=0,u=0;u<=t;a+=e[u++]);return a}var Xr=[31,29,31,30,31,30,31,31,30,31,30,31],Zr=[31,28,31,30,31,30,31,31,30,31,30,31];function eo(e,t){for(var a=new Date(e.getTime());t>0;){var u=St(a.getFullYear()),d=a.getMonth(),h=(u?Xr:Zr)[d];if(t>h-a.getDate())t-=h-a.getDate()+1,a.setDate(1),d<11?a.setMonth(d+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else return a.setDate(a.getDate()+t),a}return a}function to(e,t,a){var u=a>0?a:W(e)+1,d=new Array(u),h=b(e,d,0,d.length);return t&&(d.length=h),d}function ro(e,t,a,u){var d=N[u+40>>2],h={tm_sec:N[u>>2],tm_min:N[u+4>>2],tm_hour:N[u+8>>2],tm_mday:N[u+12>>2],tm_mon:N[u+16>>2],tm_year:N[u+20>>2],tm_wday:N[u+24>>2],tm_yday:N[u+28>>2],tm_isdst:N[u+32>>2],tm_gmtoff:N[u+36>>2],tm_zone:d?g(d):""},v=g(a),y={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _ in y)v=v.replace(new RegExp(_,"g"),y[_]);var S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],U=["January","February","March","April","May","June","July","August","September","October","November","December"];function D(m,F,ee){for(var K=typeof m=="number"?m.toString():m||"";K.length<F;)K=ee[0]+K;return K}function I(m,F){return D(m,F,"0")}function G(m,F){function ee(Ie){return Ie<0?-1:Ie>0?1:0}var K;return(K=ee(m.getFullYear()-F.getFullYear()))===0&&(K=ee(m.getMonth()-F.getMonth()))===0&&(K=ee(m.getDate()-F.getDate())),K}function Y(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function q(m){var F=eo(new Date(m.tm_year+1900,0,1),m.tm_yday),ee=new Date(F.getFullYear(),0,4),K=new Date(F.getFullYear()+1,0,4),Ie=Y(ee),Ot=Y(K);return G(Ie,F)<=0?G(Ot,F)<=0?F.getFullYear()+1:F.getFullYear():F.getFullYear()-1}var ne={"%a":function(m){return S[m.tm_wday].substring(0,3)},"%A":function(m){return S[m.tm_wday]},"%b":function(m){return U[m.tm_mon].substring(0,3)},"%B":function(m){return U[m.tm_mon]},"%C":function(m){var F=m.tm_year+1900;return I(F/100|0,2)},"%d":function(m){return I(m.tm_mday,2)},"%e":function(m){return D(m.tm_mday,2," ")},"%g":function(m){return q(m).toString().substring(2)},"%G":function(m){return q(m)},"%H":function(m){return I(m.tm_hour,2)},"%I":function(m){var F=m.tm_hour;return F==0?F=12:F>12&&(F-=12),I(F,2)},"%j":function(m){return I(m.tm_mday+Qa(St(m.tm_year+1900)?Xr:Zr,m.tm_mon-1),3)},"%m":function(m){return I(m.tm_mon+1,2)},"%M":function(m){return I(m.tm_min,2)},"%n":function(){return`
`},"%p":function(m){return m.tm_hour>=0&&m.tm_hour<12?"AM":"PM"},"%S":function(m){return I(m.tm_sec,2)},"%t":function(){return"	"},"%u":function(m){return m.tm_wday||7},"%U":function(m){var F=m.tm_yday+7-m.tm_wday;return I(Math.floor(F/7),2)},"%V":function(m){var F=Math.floor((m.tm_yday+7-(m.tm_wday+6)%7)/7);if((m.tm_wday+371-m.tm_yday-2)%7<=2&&F++,F){if(F==53){var K=(m.tm_wday+371-m.tm_yday)%7;K!=4&&(K!=3||!St(m.tm_year))&&(F=1)}}else{F=52;var ee=(m.tm_wday+7-m.tm_yday-1)%7;(ee==4||ee==5&&St(m.tm_year%400-1))&&F++}return I(F,2)},"%w":function(m){return m.tm_wday},"%W":function(m){var F=m.tm_yday+7-(m.tm_wday+6)%7;return I(Math.floor(F/7),2)},"%y":function(m){return(m.tm_year+1900).toString().substring(2)},"%Y":function(m){return m.tm_year+1900},"%z":function(m){var F=m.tm_gmtoff,ee=F>=0;return F=Math.abs(F)/60,F=F/60*100+F%60,(ee?"+":"-")+("0000"+F).slice(-4)},"%Z":function(m){return m.tm_zone},"%%":function(){return"%"}};v=v.replace(/%%/g,"\0\0");for(var _ in ne)v.includes(_)&&(v=v.replace(new RegExp(_,"g"),ne[_](h)));v=v.replace(/\0\0/g,"%");var ge=to(v,!1);return ge.length>t?0:(Mi(ge,e),ge.length-1)}function no(e,t,a,u){return ro(e,t,a,u)}ji(),je=n.BindingError=Gt(Error,"BindingError"),Nr=n.InternalError=Gt(Error,"InternalError"),ea(),Yi(),ca(),Yr=n.UnboundTypeError=Gt(Error,"UnboundTypeError"),Ea();function io(){_t("fetchSettings")}var Qr={__cxa_allocate_exception:Li,__cxa_throw:Ui,_embind_register_bigint:Bi,_embind_register_bool:Ni,_embind_register_class:ya,_embind_register_class_constructor:va,_embind_register_class_function:ma,_embind_register_emval:Ta,_embind_register_float:Ca,_embind_register_integer:Fa,_embind_register_memory_view:Ia,_embind_register_std_string:Aa,_embind_register_std_wstring:ja,_embind_register_void:$a,abort:ka,emscripten_memcpy_big:Na,emscripten_resize_heap:Wa,environ_get:za,environ_sizes_get:Ya,fd_close:Ka,fd_seek:Ja,fd_write:Za,strftime_l:no};Di(),n.___wasm_call_ctors=z("__wasm_call_ctors");var tr=n._malloc=z("malloc"),Te=n._free=z("free"),ao=n.___getTypeName=z("__getTypeName");n.__embind_initialize_bindings=z("_embind_initialize_bindings"),n.___errno_location=z("__errno_location"),n._fflush=z("fflush");var en=n._emscripten_stack_init=function(){return(en=n._emscripten_stack_init=n.asm.emscripten_stack_init).apply(null,arguments)};n._emscripten_stack_get_free=function(){return(n._emscripten_stack_get_free=n.asm.emscripten_stack_get_free).apply(null,arguments)},n._emscripten_stack_get_base=function(){return(n._emscripten_stack_get_base=n.asm.emscripten_stack_get_base).apply(null,arguments)};var rr=n._emscripten_stack_get_end=function(){return(rr=n._emscripten_stack_get_end=n.asm.emscripten_stack_get_end).apply(null,arguments)};n.stackSave=z("stackSave"),n.stackRestore=z("stackRestore"),n.stackAlloc=z("stackAlloc");var oo=n.___cxa_is_pointer_type=z("__cxa_is_pointer_type");n.dynCall_viijii=z("dynCall_viijii"),n.dynCall_ji=z("dynCall_ji"),n.dynCall_jiji=z("dynCall_jiji"),n.dynCall_iiiiij=z("dynCall_iiiiij"),n.dynCall_iiiiijj=z("dynCall_iiiiijj"),n.dynCall_iiiiiijj=z("dynCall_iiiiiijj");var so=["run","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createPreloadedFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","getLEB","getFunctionTables","alignFunctionTables","registerFunctions","prettyPrint","getCompilerSetting","print","printErr","callMain","abort","keepRuntimeAlive","wasmMemory","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","ptrToString","zeroMemory","stringToNewUTF8","exitJS","getHeapMax","emscripten_realloc_buffer","ENV","ERRNO_CODES","ERRNO_MESSAGES","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","DNS","getHostByName","Protocols","Sockets","getRandomDevice","warnOnce","traverseStack","UNWIND_CACHE","convertPCtoSourceLocation","readAsmConstArgsArray","readAsmConstArgs","mainThreadEM_ASM","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","convertJsFunctionToWasm","freeTableIndexes","functionsInTableMap","getEmptyTableSlot","updateTableMap","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","setValue","getValue","PATH","PATH_FS","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","allocateUTF8","allocateUTF8OnStack","writeStringToMemory","writeArrayToMemory","writeAsciiToMemory","SYSCALLS","getSocketFromFD","getSocketAddress","JSEvents","registerKeyEventCallback","specialHTMLTargets","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","currentFullscreenStrategy","restoreOldWindowedStyle","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","ExitStatus","getEnvStrings","checkWasiClock","flush_NO_FILESYSTEM","dlopenMissingError","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","exception_addRef","exception_decRef","Browser","setMainLoop","wget","FS","MEMFS","TTY","PIPEFS","SOCKFS","_setNetworkCallback","tempFixedLengthArray","miniTempWebGLFloatBuffers","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","GL","emscriptenWebGLGet","computeUnpackAlignedImageSize","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","writeGLArray","AL","SDL_unicode","SDL_ttfContext","SDL_audio","SDL","SDL_gfx","GLUT","EGL","GLFW_Window","GLFW","GLEW","IDBStore","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","InternalError","BindingError","UnboundTypeError","PureVirtualError","init_embind","throwInternalError","throwBindingError","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredTypes","awaitingDependencies","typeDependencies","registeredPointers","registerType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","heap32VectorToArray","requireRegisteredType","getShiftFromSize","integerReadValueFromPointer","enumReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","runDestructors","new_","craftInvokerFunction","embind__requireFunction","tupleRegistrations","structRegistrations","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","deletionQueue","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","emval_handle_array","emval_free_list","emval_symbols","init_emval","count_emval_handles","get_first_emval","getStringOrSymbol","Emval","emval_newers","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_methodCallers","emval_addMethodCaller","emval_registeredMethods"];so.forEach(Bt);var uo=["ptrToString","zeroMemory","stringToNewUTF8","exitJS","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","getRandomDevice","traverseStack","convertPCtoSourceLocation","readAsmConstArgs","mainThreadEM_ASM","jstoi_q","jstoi_s","listenOnce","autoResumeAudioContext","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","reallyNegative","unSign","strLen","reSign","formatString","getSocketFromFD","getSocketAddress","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","checkWasiClock","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","exception_addRef","exception_decRef","setMainLoop","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","emscriptenWebGLGet","computeUnpackAlignedImageSize","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","writeGLArray","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","runAndAbortIfError","registerInheritedInstance","unregisterInheritedInstance","requireRegisteredType","enumReadValueFromPointer","validateThis","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];uo.forEach(Ut);var Ct;qe=function e(){Ct||tn(),Ct||(qe=e)};function co(){en(),mi()}function tn(e){if(Ce>0||(co(),bi(),Ce>0))return;function t(){Ct||(Ct=!0,n.calledRun=!0,!Le&&(wi(),l(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),C(!n._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),Pi()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t(),kt()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return tn(),c.ready}})();r.exports=o})(mr);var Kn=mr.exports,Jn=A&&A.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(be,"__esModule",{value:!0}),be.LazPerf=be.create=be.createLazPerf=void 0;const Lt=Jn(Kn);be.createLazPerf=Lt.default,be.create=Lt.default,be.LazPerf={create:Lt.default},Object.defineProperty(me,"__esModule",{value:!0}),me.decompressFile=me.decompressChunk=me.PointData=void 0;const br=be,qn=We;me.PointData={createLazPerf:br.createLazPerf,decompressChunk:Pr,decompressFile:Er};let Rt;async function wr(r){return r||(Rt||(Rt=(0,br.createLazPerf)()),Rt)}async function Pr(r,{pointCount:i,pointDataRecordFormat:o,pointDataRecordLength:s},c){const n=await wr(c),l=new Uint8Array(i*s),f=n._malloc(r.byteLength),p=n._malloc(s),P=new n.ChunkDecoder;try{n.HEAPU8.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),f),P.open(o,s,f);for(let E=0;E<i;++E)P.getPoint(p),l.set(new Uint8Array(n.HEAPU8.buffer,p,s),E*s)}finally{n._free(f),n._free(p),P.delete()}return l}me.decompressChunk=Pr;async function Er(r,i){const o=await wr(i),s=qn.Header.parse(r),{pointCount:c,pointDataRecordLength:n}=s,l=new Uint8Array(c*n),f=o._malloc(r.byteLength),p=o._malloc(n),P=new o.LASZip;try{o.HEAPU8.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),f),P.open(f,r.byteLength);for(let E=0;E<c;++E)P.getPoint(p),l.set(new Uint8Array(o.HEAPU8.buffer,p,n),E*n)}finally{P.delete()}return l}me.decompressFile=Er;var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.View=void 0;const Xn=ie,Zn=Ne,Qn=xe;pt.View={create:ei};function ei(r,i,o=[],s){let c=Qn.Extractor.create(i,o);if(s){const E=new Set([...s]);c=Object.entries(c).reduce((w,[T,M])=>(E.has(T)&&(w[T]=M),w),{})}const n=Zn.Dimensions.create(c,o),l=Xn.Binary.toDataView(r),f=i.pointDataRecordLength;if(l.byteLength%f!==0)throw new Error(`Invalid buffer length (${l.byteLength}) for point length ${f}`);const p=l.byteLength/i.pointDataRecordLength;function P(E){const w=c[E];if(!w)throw new Error(`No extractor for dimension: ${E}`);return function(T){if(T>=p)throw new RangeError(`View index (${T}) out of range: ${p}`);return w(l,T)}}return{pointCount:p,dimensions:n,getter:P}}var yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.Vlr=void 0;const fe=ie,Me=ce;yt.Vlr={walk:ni,parse:Sr,find:Tr,at:ti,fetch:ri};function Tr(r,i,o){return r.find(s=>s.userId===i&&s.recordId===o)}function ti(r,i,o){const s=Tr(r,i,o);if(!s)throw new Error(`VLR not found: ${i}/${o}`);return s}function ri(r,{contentOffset:i,contentLength:o}){return o===0?new Uint8Array:fe.Getter.create(r)(i,i+o)}async function ni(r,i){const o=fe.Getter.create(r),s=await Cr({get:o,startOffset:i.headerLength,count:i.vlrCount,isExtended:!1}),c=await Cr({get:o,startOffset:i.evlrOffset,count:i.evlrCount,isExtended:!0});return[...s,...c]}function Sr(r,i){return(i?ai:ii)(r)}function ii(r){const i=fe.Binary.toDataView(r);if(i.byteLength!==Me.vlrHeaderLength)throw new Error(`Invalid VLR header length (must be ${Me.vlrHeaderLength}): ${i.byteLength}`);return{userId:fe.Binary.toCString(r.slice(2,18)),recordId:i.getUint16(18,!0),contentLength:i.getUint16(20,!0),description:fe.Binary.toCString(r.slice(22,54)),isExtended:!1}}function ai(r){const i=fe.Binary.toDataView(r);if(i.byteLength!==Me.evlrHeaderLength)throw new Error(`Invalid EVLR header length (must be ${Me.evlrHeaderLength}): ${i.byteLength}`);return{userId:fe.Binary.toCString(r.slice(2,18)),recordId:i.getUint16(18,!0),contentLength:(0,fe.parseBigInt)((0,fe.getBigUint64)(i,20,!0)),description:fe.Binary.toCString(r.slice(28,60)),isExtended:!0}}async function Cr({get:r,startOffset:i,count:o,isExtended:s}){const c=[];let n=i;const l=s?Me.evlrHeaderLength:Me.vlrHeaderLength;for(let f=0;f<o;++f){const p=l?await r(n,n+l):new Uint8Array,{userId:P,recordId:E,contentLength:w,description:T}=Sr(p,s);c.push({userId:P,recordId:E,contentOffset:n+l,contentLength:w,description:T,isExtended:s}),n+=l+w}return c}(function(r){var i=A&&A.__createBinding||(Object.create?function(w,T,M,O){O===void 0&&(O=M);var k=Object.getOwnPropertyDescriptor(T,M);(!k||("get"in k?!T.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return T[M]}}),Object.defineProperty(w,O,k)}:function(w,T,M,O){O===void 0&&(O=M),w[O]=T[M]}),o=A&&A.__setModuleDefault||(Object.create?function(w,T){Object.defineProperty(w,"default",{enumerable:!0,value:T})}:function(w,T){w.default=T}),s=A&&A.__importStar||function(w){if(w&&w.__esModule)return w;var T={};if(w!=null)for(var M in w)M!=="default"&&Object.prototype.hasOwnProperty.call(w,M)&&i(T,w,M);return o(T,w),T};Object.defineProperty(r,"__esModule",{value:!0}),r.Vlr=r.View=r.PointData=r.Header=r.Extractor=r.ExtraBytes=r.Dimensions=r.Constants=void 0,r.Constants=s(ce);var c=Ne;Object.defineProperty(r,"Dimensions",{enumerable:!0,get:function(){return c.Dimensions}});var n=He;Object.defineProperty(r,"ExtraBytes",{enumerable:!0,get:function(){return n.ExtraBytes}});var l=xe;Object.defineProperty(r,"Extractor",{enumerable:!0,get:function(){return l.Extractor}});var f=We;Object.defineProperty(r,"Header",{enumerable:!0,get:function(){return f.Header}});var p=me;Object.defineProperty(r,"PointData",{enumerable:!0,get:function(){return p.PointData}});var P=pt;Object.defineProperty(r,"View",{enumerable:!0,get:function(){return P.View}});var E=yt;Object.defineProperty(r,"Vlr",{enumerable:!0,get:function(){return E.Vlr}})})(Ft);var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.Hierarchy=void 0;const Ge=ie,Or=he;Ve.Hierarchy={parse:Fr,load:oi};function Fr(r){const i=Ge.Binary.toDataView(r);if(i.byteLength%Or.hierarchyItemLength!==0)throw new Error(`Invalid hierarchy page length: ${i.byteLength}`);const o={},s={};for(let c=0;c<i.byteLength;c+=Or.hierarchyItemLength){const n=i.getInt32(c+0,!0),l=i.getInt32(c+4,!0),f=i.getInt32(c+8,!0),p=i.getInt32(c+12,!0),P=(0,Ge.parseBigInt)((0,Ge.getBigUint64)(i,c+16,!0)),E=i.getInt32(c+24,!0),w=i.getInt32(c+28,!0),T=Ge.Key.toString([n,l,f,p]);if(w<-1)throw new Error(`Invalid hierarchy point count at key: ${T}`);w===-1?s[T]={pageOffset:P,pageLength:E}:o[T]={pointCount:w,pointDataOffset:P,pointDataLength:E}}return{nodes:o,pages:s}}async function oi(r,i){const o=Ge.Getter.create(r);return Fr(await o(i.pageOffset,i.pageOffset+i.pageLength))}var ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.Info=void 0;const Ye=ie,Ir=he;ze.Info={parse:si};function si(r){const i=Ye.Binary.toDataView(r);if(i.byteLength!==Ir.infoLength)throw new Error(`Invalid COPC info VLR length (should be ${Ir.infoLength}): ${i.byteLength}`);const o=[i.getFloat64(0,!0),i.getFloat64(8,!0),i.getFloat64(16,!0)],s=i.getFloat64(24,!0);return{cube:[o[0]-s,o[1]-s,o[2]-s,o[0]+s,o[1]+s,o[2]+s],spacing:i.getFloat64(32,!0),rootHierarchyPage:{pageOffset:(0,Ye.parseBigInt)((0,Ye.getBigUint64)(i,40,!0)),pageLength:(0,Ye.parseBigInt)((0,Ye.getBigUint64)(i,48,!0))},gpsTimeRange:[i.getFloat64(56,!0),i.getFloat64(64,!0)]}}var ui=A&&A.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,c)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),ci=A&&A.__setModuleDefault||(Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i}),li=A&&A.__importStar||function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var o in r)o!=="default"&&Object.prototype.hasOwnProperty.call(r,o)&&ui(i,r,o);return ci(i,r),i};Object.defineProperty(ot,"__esModule",{value:!0}),ot.Copc=void 0;const ae=li(Ft),ht=ie,fi=Ve,di=ze;ot.Copc={create:gi,loadHierarchyPage:pi,loadPointDataBuffer:Ar,loadPointDataView:hi};async function gi(r){const i=ht.Getter.create(r),o=65536,s=i(0,o);async function c(M,O){return O>=o?i(M,O):(await s).slice(M,O)}const n=ae.Header.parse(await c(0,ae.Constants.minHeaderLength)),l=await ae.Vlr.walk(c,n),f=ae.Vlr.find(l,"copc",1);if(!f)throw new Error("COPC info VLR is required");const p=di.Info.parse(await ae.Vlr.fetch(c,f));let P;const E=ae.Vlr.find(l,"LASF_Projection",2112);E&&E.contentLength&&(P=ht.Binary.toCString(await ae.Vlr.fetch(c,E)),P===""&&(P=void 0));let w=[];const T=ae.Vlr.find(l,"LASF_Spec",4);return T&&(w=ae.ExtraBytes.parse(await ae.Vlr.fetch(c,T))),{header:n,vlrs:l,info:p,wkt:P,eb:w}}async function pi(r,i){const o=ht.Getter.create(r);return fi.Hierarchy.load(o,i)}async function yi(r,{pointDataOffset:i,pointDataLength:o}){return ht.Getter.create(r)(i,i+o)}async function Ar(r,{pointDataRecordFormat:i,pointDataRecordLength:o},s,c){const n=await yi(r,s),{pointCount:l}=s;return ae.PointData.decompressChunk(n,{pointCount:l,pointDataRecordFormat:i,pointDataRecordLength:o},c)}async function hi(r,i,o,{lazPerf:s,include:c}={}){const n=await Ar(r,i.header,o,s);return ae.View.create(n,i.header,i.eb,c)}(function(r){var i=A&&A.__createBinding||(Object.create?function(f,p,P,E){E===void 0&&(E=P);var w=Object.getOwnPropertyDescriptor(p,P);(!w||("get"in w?!p.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return p[P]}}),Object.defineProperty(f,E,w)}:function(f,p,P,E){E===void 0&&(E=P),f[E]=p[P]}),o=A&&A.__setModuleDefault||(Object.create?function(f,p){Object.defineProperty(f,"default",{enumerable:!0,value:p})}:function(f,p){f.default=p}),s=A&&A.__importStar||function(f){if(f&&f.__esModule)return f;var p={};if(f!=null)for(var P in f)P!=="default"&&Object.prototype.hasOwnProperty.call(f,P)&&i(p,f,P);return o(p,f),p};Object.defineProperty(r,"__esModule",{value:!0}),r.Info=r.Hierarchy=r.Copc=r.Constants=void 0,r.Constants=s(he);var c=ot;Object.defineProperty(r,"Copc",{enumerable:!0,get:function(){return c.Copc}});var n=Ve;Object.defineProperty(r,"Hierarchy",{enumerable:!0,get:function(){return n.Hierarchy}});var l=ze;Object.defineProperty(r,"Info",{enumerable:!0,get:function(){return l.Info}})})(ar),function(r){var i=A&&A.__createBinding||(Object.create?function(n,l,f,p){p===void 0&&(p=f);var P=Object.getOwnPropertyDescriptor(l,f);(!P||("get"in P?!l.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(n,p,P)}:function(n,l,f,p){p===void 0&&(p=f),n[p]=l[f]}),o=A&&A.__setModuleDefault||(Object.create?function(n,l){Object.defineProperty(n,"default",{enumerable:!0,value:l})}:function(n,l){n.default=l}),s=A&&A.__importStar||function(n){if(n&&n.__esModule)return n;var l={};if(n!=null)for(var f in n)f!=="default"&&Object.prototype.hasOwnProperty.call(n,f)&&i(l,n,f);return o(l,n),l},c=A&&A.__exportStar||function(n,l){for(var f in n)f!=="default"&&!Object.prototype.hasOwnProperty.call(l,f)&&i(l,n,f)};Object.defineProperty(r,"__esModule",{value:!0}),r.Las=r.Ept=void 0,r.Ept=s(nr),c(ar,r),r.Las=s(Ft),c(ie,r)}(it);function _i(...r){console.log("%c!! WORKER !!","color: cyan; font-weight: bold;",...r)}function vi(r){if(typeof r=="string")return r;{const i=r;return async(o,s)=>{const c=i.slice(o,s);return new Uint8Array(await c.arrayBuffer())}}}onmessage=async function(r){try{const i=vi(r.data.source),o=await it.Copc.create(i);if(r.data.command==="info"){_i("READ INFO",o);const s=await it.Copc.loadHierarchyPage(i,o.info.rootHierarchyPage),c={msgType:"info",info:o.info,header:o.header,hierarchy:s};postMessage(c);return}if(r.data.command==="points"){const s=r.data.node,c=await it.Copc.loadPointDataView(i,o,s),n=c.pointCount,l=new Float32Array(n*3),f=new Uint8Array(n*3),p=new Uint8Array(n),P=new Uint16Array(n),E=new Int32Array(n),w="Red"in c.dimensions&&"Green"in c.dimensions&&"Blue"in c.dimensions,T={x:c.getter("X"),y:c.getter("Y"),z:c.getter("Z"),r:w?c.getter("Red"):()=>128,g:w?c.getter("Green"):()=>128,b:w?c.getter("Blue"):()=>128,i:c.getter("Intensity"),c:c.getter("Classification")};let M=1,O=0,k=0;const we=r.data.offset;for(let B=0;B<c.pointCount;B++){l[O++]=T.x(B)-we[0],l[O++]=T.y(B)-we[1],l[O++]=T.z(B)-we[2];const X=T.r(B)/M;M===1&&X>255&&(M=256),f[k++]=X,f[k++]=T.g(B)/M,f[k++]=T.b(B)/M,p[B]=T.c(B),P[B]=T.i(B),E[B]=B}const Ke={msgType:"points",pointCount:c.pointCount,positions:l,colors:f,classifications:p,intensities:P,indices:E};postMessage(Ke,{transfer:[l.buffer,f.buffer,p.buffer,P.buffer,E.buffer]})}}catch(i){let o="";i instanceof Error?o=JSON.stringify(i,Object.getOwnPropertyNames(i)):typeof i=="string"&&(o=i),postMessage({msgType:"error",message:o})}}})();
